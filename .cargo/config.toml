[env]
ESP_LOGLEVEL = "debug"
DEFMT_LOG = "debug"

[build]
target = "xtensa-esp32s3-espidf"

[target.xtensa-esp32s3-espidf]
# linker = "ldproxy"
runner = "probe-rs run --chip esp32s3"

rustflags = [
    # Required to obtain backtraces (e.g. when using the "esp-backtrace" crate.)
    # NOTE: May negatively impact performance of produced code
    "-C", "force-frame-pointers",
]

[unstable]
build-std = ["std", "panic_abort"]
# Commented out so we run all tests even if some of them fail.
# build-std-features = ["panic_immediate_abort"]
